"use strict";var lunrIndex,pagesIndex,searchon=!1;// Inspired by https://github.com/matcornic/hugo-theme-learn/blob/18212e67599813e4f97ecc66ebf3f8b32f54a0b5/static/js/searchon.js#L1
function initLunr(){// First retrieve the index file
$.getJSON(location.origin+location.pathname+"index.json").done(function(a){// Set up lunrjs by declaring the fields we use
// Also provide their boost level for the ranking
pagesIndex=a,lunrIndex=lunr(function(){// Feed lunr with each file and let lunr actually index them
this.pipeline.remove(lunr.stemmer),this.searchPipeline.remove(lunr.stemmer),this.ref("name"),this.field("name",{boost:150}),this.field("description",{boost:15}),this.field("details",{boost:10}),this.field("maintainer",{boost:50}),this.field("keywords",{boost:5}),pagesIndex.forEach(function(a){this.add(a)},this)})}).fail(function(a,b,c){console.error("Error getting Hugo index file:",b+", "+c)})}function runPagination(a){function b(b){var c=parseInt($("#show_per_page").val(),0);start_from=b*c,end_on=start_from+c,$(".showed-items").text(end_on),b+1==d&&$(".showed-items").text(end_on-(end_on-e)),$(".category-cards").children().removeClass("d-flex").addClass("d-none"),searchon?$(".category-card.search-item[data-status='".concat(a,"']")).slice(start_from,end_on).addClass("d-flex"):$(".category-cards").find("[data-status='".concat(a,"']")).slice(start_from,end_on).addClass("d-flex"),$(".page[longdesc="+b+"]").addClass("active_page").siblings(".active_page").removeClass("active_page"),$("#current_page").val(b)}function c(){new_page=parseInt($("#current_page").val(),0)+1,!0==$(".active_page").next(".page").length&&b(new_page),new_page+1<=d&&(document.querySelector(".current-page").textContent=new_page+1)}var d=null,e=null;$(".current-page").text(1),$(".showed-items").text(10),$(document).ready(function(){$(".category-list").css({opacity:1});var b=null;b=searchon?$(".category-card.search-item[data-status='".concat(a,"']")).length:$(".category-cards").find("[data-status='".concat(a,"']")).length,$(".search-result").css("text-align","center").css("margin-top","40px"),b?($(".pagination-item").show(),$(".search-result").hide()):($(".pagination-item").hide(),$(".search-result").show()),e=b;var c=Math.ceil(b/10);d=c,$(".controls").remove(),$("#current_page").remove(),$("#show_per_page").remove(),$("body").append("<div class=controls></div><input id=current_page type=hidden><input id=show_per_page type=hidden>"),$("#current_page").val(0),$("#show_per_page").val(10);for(var f="<a class=\"prev\" onclick=\"previous()\">Prev</a>",g=0;c>g;)f+="<a class=\"page\" onclick=\"go_to_page("+g+")\" longdesc=\""+g+"\">"+(g+1)+"</a>",g++;// First page
// Text
f+="<a class=\"next\" onclick=\"next()\">Next</a>",$(".controls").html(f),$(".controls .page:first").addClass("active_page"),$(".category-cards").children().removeClass("d-flex").addClass("d-none"),searchon?$(".category-card.search-item[data-status='".concat(a,"']")).slice(0,10).addClass("d-flex"):$(".category-cards").find("[data-status='".concat(a,"']")).slice(0,10).addClass("d-flex"),$(".number_of_pages").text(c),$(".show-total").text(b),$(".showed-items").text(Math.min(10,b)),searchon&&$(".showed-items").text($(".category-card.search-item.d-flex[data-status='".concat(a,"']")).length)});{var f=document.querySelector("#prev"),g=f.cloneNode(!0);f.parentNode.replaceChild(g,f);var h=document.querySelector("#next"),g=h.cloneNode(!0);h.parentNode.replaceChild(g,h)}document.querySelector("#prev").addEventListener("click",function(){new_page=parseInt($("#current_page").val(),0)-1,!0==$(".active_page").prev(".page").length&&b(new_page),0!=new_page+1&&(document.querySelector(".current-page").textContent=new_page+1)}),document.querySelector("#next").addEventListener("click",c,!1)}document.querySelectorAll(".cat-btn").forEach(function(a){a.addEventListener("click",function(){"active"==this.textContent.toLowerCase()?runPagination("active"):"experimental"==this.textContent.toLowerCase()?runPagination("experimental"):"archived"==this.textContent.toLowerCase()&&runPagination("archived")})}),runPagination("active");function update_packages(a){a.preventDefault(),$(".category-card").removeClass("search-item");for(var b=("+*"+$(".package-search__input").val().trim().replaceAll(" ","* +*")+"* ").normalize("NFD").replace(/[\u0300-\u036f]/g,""),c=lunrIndex.search(b).map(function(a){return pagesIndex.filter(function(b){return b.name===a.ref})[0]}).map(function(b){return b.name}).map(function(b){return"#"+b}),d=c.length-1;0<=d;d--)$(c[d]).addClass("search-item"),$(c[d]).prependTo(".category-cards");searchon=!0,"active"==$(".cat-btn.is-primary").text().toLowerCase()?runPagination("active"):"experimental"==$(".cat-btn.is-primary").text().toLowerCase()?runPagination("experimental"):"archived"==$(".cat-btn.is-primary").text().toLowerCase()&&runPagination("archived")}// Let's get started
$(".package-search__submit").click(update_packages),$(".package-search__input").on("input",update_packages),document.addEventListener("DOMContentLoaded",function(){initLunr()});